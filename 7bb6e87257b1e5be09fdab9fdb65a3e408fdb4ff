{
  "comments": [
    {
      "key": {
        "uuid": "dfb76689_1ad21078",
        "filename": "images/openstack/loci/JenkinsfileMos",
        "patchSetId": 18
      },
      "lineNbr": 100,
      "author": {
        "id": 1010324
      },
      "writtenOn": "2018-11-05T20:02:31Z",
      "side": 1,
      "message": "please find another way to do this - modifying source in a pipeline is not the way to go.",
      "range": {
        "startLine": 100,
        "startChar": 4,
        "endLine": 100,
        "endChar": 69
      },
      "revId": "7bb6e87257b1e5be09fdab9fdb65a3e408fdb4ff",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0c865fb2_b3116ad6",
        "filename": "images/openstack/loci/JenkinsfileMos",
        "patchSetId": 18
      },
      "lineNbr": 100,
      "author": {
        "id": 1015253
      },
      "writtenOn": "2018-11-05T20:29:01Z",
      "side": 1,
      "message": "Unfortunately this is a keystone of a solution because of docker limitations, that does not allow to mount volumes on docker build. We\u0027re not actually removing invoking install.sh from Dockerfile, we\u0027re moving it from to \u0027docker run\u0027, that allows mounts.\n\nFrom your comment it\u0027s not clear if you\u0027re opposed to modifying sources by itself or will it be the same if we maintain and use our own?",
      "parentUuid": "dfb76689_1ad21078",
      "range": {
        "startLine": 100,
        "startChar": 4,
        "endLine": 100,
        "endChar": 69
      },
      "revId": "7bb6e87257b1e5be09fdab9fdb65a3e408fdb4ff",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "03ee5ab1_0ced3e21",
        "filename": "images/openstack/loci/JenkinsfileMos",
        "patchSetId": 18
      },
      "lineNbr": 100,
      "author": {
        "id": 1015253
      },
      "writtenOn": "2018-11-05T20:37:34Z",
      "side": 1,
      "message": "that will look like that:\n\nARG FROM\u003dubuntu:xenial\nFROM ${FROM}\n\nENV PATH\u003d/var/lib/openstack/bin:$PATH\n\nCOPY scripts /opt/loci/scripts\nADD bindep.txt pydep.txt $EXTRA_BINDEP $EXTRA_PYDEP /opt/loci/\n\nThat is only what we need on for \u0027docker build\u0027\nPrevious solution allowed to keep original Dockerfile and not worry about maintaining it if some new steps are added upstream.",
      "parentUuid": "0c865fb2_b3116ad6",
      "range": {
        "startLine": 100,
        "startChar": 4,
        "endLine": 100,
        "endChar": 69
      },
      "revId": "7bb6e87257b1e5be09fdab9fdb65a3e408fdb4ff",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "de32d75d_ee2741ac",
        "filename": "images/openstack/loci/JenkinsfileMos",
        "patchSetId": 18
      },
      "lineNbr": 138,
      "author": {
        "id": 1014344
      },
      "writtenOn": "2018-11-05T18:42:39Z",
      "side": 1,
      "message": "though we dont expose mos-requirements image, since it is stored in Artifactory would suggest follow the 3 step build for mos-requirements image as well",
      "range": {
        "startLine": 138,
        "startChar": 0,
        "endLine": 138,
        "endChar": 44
      },
      "revId": "7bb6e87257b1e5be09fdab9fdb65a3e408fdb4ff",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "42c03789_3a114b1c",
        "filename": "images/openstack/loci/JenkinsfileMos",
        "patchSetId": 18
      },
      "lineNbr": 138,
      "author": {
        "id": 1015253
      },
      "writtenOn": "2018-11-05T19:05:29Z",
      "side": 1,
      "message": "we dismiss this step for mos-requirements as it will never be used as a base for container and actually does not have operational system. It is only used only as a source of wheels for components that are not available in wheel form. For this particular component we move from 1-step to 2-step build procedure.",
      "parentUuid": "de32d75d_ee2741ac",
      "range": {
        "startLine": 138,
        "startChar": 0,
        "endLine": 138,
        "endChar": 44
      },
      "revId": "7bb6e87257b1e5be09fdab9fdb65a3e408fdb4ff",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": true
    }
  ]
}